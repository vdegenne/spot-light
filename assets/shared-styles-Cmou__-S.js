import{V as T,e as x,x as h,u as I,E as o,o as g,l as f,r as A,g as O,c as w,b as E,d as L,m as C,f as k,h as S,j as _,k as q,n as v,_ as r,p as s,q as d,v as m,w as y,i as D}from"./index-gkTZqN_R.js";const F={fromAttribute(p){return p??""},toAttribute(p){return p||null}};class z extends T{computeValidity({state:t,renderedControl:e}){let n=e;u(t)&&!n?(n=this.inputControl||document.createElement("input"),this.inputControl=n):n||(n=this.textAreaControl||document.createElement("textarea"),this.textAreaControl=n);const a=u(t)?n:null;if(a&&(a.type=t.type),n.value!==t.value&&(n.value=t.value),n.required=t.required,a){const l=t;l.pattern?a.pattern=l.pattern:a.removeAttribute("pattern"),l.min?a.min=l.min:a.removeAttribute("min"),l.max?a.max=l.max:a.removeAttribute("max"),l.step?a.step=l.step:a.removeAttribute("step")}return(t.minLength??-1)>-1?n.setAttribute("minlength",String(t.minLength)):n.removeAttribute("minlength"),(t.maxLength??-1)>-1?n.setAttribute("maxlength",String(t.maxLength)):n.removeAttribute("maxlength"),{validity:n.validity,validationMessage:n.validationMessage}}equals({state:t},{state:e}){const n=t.type===e.type&&t.value===e.value&&t.required===e.required&&t.minLength===e.minLength&&t.maxLength===e.maxLength;return!u(t)||!u(e)?n:n&&t.pattern===e.pattern&&t.min===e.min&&t.max===e.max&&t.step===e.step}copy({state:t}){return{state:u(t)?this.copyInput(t):this.copyTextArea(t),renderedControl:null}}copyInput(t){const{type:e,pattern:n,min:a,max:l,step:c}=t;return{...this.copySharedState(t),type:e,pattern:n,min:a,max:l,step:c}}copyTextArea(t){return{...this.copySharedState(t),type:t.type}}copySharedState({value:t,required:e,minLength:n,maxLength:a}){return{value:t,required:e,minLength:n,maxLength:a}}}function u(p){return p.type!=="textarea"}const M=C(k(S(_(q(v)))));class i extends M{constructor(){super(...arguments),this.error=!1,this.errorText="",this.label="",this.noAsterisk=!1,this.required=!1,this.value="",this.prefixText="",this.suffixText="",this.hasLeadingIcon=!1,this.hasTrailingIcon=!1,this.supportingText="",this.textDirection="",this.rows=2,this.cols=20,this.inputMode="",this.max="",this.maxLength=-1,this.min="",this.minLength=-1,this.noSpinner=!1,this.pattern="",this.placeholder="",this.readOnly=!1,this.multiple=!1,this.step="",this.type="text",this.autocomplete="",this.dirty=!1,this.focused=!1,this.nativeError=!1,this.nativeErrorText=""}get selectionDirection(){return this.getInputOrTextarea().selectionDirection}set selectionDirection(t){this.getInputOrTextarea().selectionDirection=t}get selectionEnd(){return this.getInputOrTextarea().selectionEnd}set selectionEnd(t){this.getInputOrTextarea().selectionEnd=t}get selectionStart(){return this.getInputOrTextarea().selectionStart}set selectionStart(t){this.getInputOrTextarea().selectionStart=t}get valueAsNumber(){const t=this.getInput();return t?t.valueAsNumber:NaN}set valueAsNumber(t){const e=this.getInput();e&&(e.valueAsNumber=t,this.value=e.value)}get valueAsDate(){const t=this.getInput();return t?t.valueAsDate:null}set valueAsDate(t){const e=this.getInput();e&&(e.valueAsDate=t,this.value=e.value)}get hasError(){return this.error||this.nativeError}select(){this.getInputOrTextarea().select()}setRangeText(...t){this.getInputOrTextarea().setRangeText(...t),this.value=this.getInputOrTextarea().value}setSelectionRange(t,e,n){this.getInputOrTextarea().setSelectionRange(t,e,n)}showPicker(){const t=this.getInput();t&&t.showPicker()}stepDown(t){const e=this.getInput();e&&(e.stepDown(t),this.value=e.value)}stepUp(t){const e=this.getInput();e&&(e.stepUp(t),this.value=e.value)}reset(){this.dirty=!1,this.value=this.getAttribute("value")??"",this.nativeError=!1,this.nativeErrorText=""}attributeChangedCallback(t,e,n){t==="value"&&this.dirty||super.attributeChangedCallback(t,e,n)}render(){const t={disabled:this.disabled,error:!this.disabled&&this.hasError,textarea:this.type==="textarea","no-spinner":this.noSpinner};return h`<span class="text-field ${x(t)}">${this.renderField()}</span>`}updated(t){const e=this.getInputOrTextarea().value;this.value!==e&&(this.value=e)}renderField(){return I`<${this.fieldTag} class="field" count="${this.value.length}" ?disabled="${this.disabled}" ?error="${this.hasError}" error-text="${this.getErrorText()}" ?focused="${this.focused}" ?has-end="${this.hasTrailingIcon}" ?has-start="${this.hasLeadingIcon}" label="${this.label}" ?no-asterisk="${this.noAsterisk}" max="${this.maxLength}" ?populated="${!!this.value}" ?required="${this.required}" ?resizable="${this.type==="textarea"}" supporting-text="${this.supportingText}">${this.renderLeadingIcon()} ${this.renderInputOrTextarea()} ${this.renderTrailingIcon()}<div id="description" slot="aria-describedby"></div><slot name="container" slot="container"></slot></${this.fieldTag}>`}renderLeadingIcon(){return h`<span class="icon leading" slot="start"><slot name="leading-icon" @slotchange="${this.handleIconChange}"></slot></span>`}renderTrailingIcon(){return h`<span class="icon trailing" slot="end"><slot name="trailing-icon" @slotchange="${this.handleIconChange}"></slot></span>`}renderInputOrTextarea(){const t={direction:this.textDirection},e=this.ariaLabel||this.label||o,n=this.autocomplete,a=(this.maxLength??-1)>-1,l=(this.minLength??-1)>-1;if(this.type==="textarea")return h`<textarea class="input" style="${g(t)}" aria-describedby="description" aria-invalid="${this.hasError}" aria-label="${e}" autocomplete="${n||o}" name="${this.name||o}" ?disabled="${this.disabled}" maxlength="${a?this.maxLength:o}" minlength="${l?this.minLength:o}" placeholder="${this.placeholder||o}" ?readonly="${this.readOnly}" ?required="${this.required}" rows="${this.rows}" cols="${this.cols}" .value="${f(this.value)}" @change="${this.redispatchEvent}" @focus="${this.handleFocusChange}" @blur="${this.handleFocusChange}" @input="${this.handleInput}" @select="${this.redispatchEvent}"></textarea>`;const c=this.renderPrefix(),b=this.renderSuffix(),$=this.inputMode;return h`<div class="input-wrapper">${c} <input class="input" style="${g(t)}" aria-describedby="description" aria-invalid="${this.hasError}" aria-label="${e}" autocomplete="${n||o}" name="${this.name||o}" ?disabled="${this.disabled}" inputmode="${$||o}" max="${this.max||o}" maxlength="${a?this.maxLength:o}" min="${this.min||o}" minlength="${l?this.minLength:o}" pattern="${this.pattern||o}" placeholder="${this.placeholder||o}" ?readonly="${this.readOnly}" ?required="${this.required}" ?multiple="${this.multiple}" step="${this.step||o}" type="${this.type}" .value="${f(this.value)}" @change="${this.redispatchEvent}" @focus="${this.handleFocusChange}" @blur="${this.handleFocusChange}" @input="${this.handleInput}" @select="${this.redispatchEvent}"> ${b}</div>`}renderPrefix(){return this.renderAffix(this.prefixText,!1)}renderSuffix(){return this.renderAffix(this.suffixText,!0)}renderAffix(t,e){return t?h`<span class="${x({suffix:e,prefix:!e})}">${t}</span>`:o}getErrorText(){return this.error?this.errorText:this.nativeErrorText}handleFocusChange(){var t;this.focused=((t=this.inputOrTextarea)==null?void 0:t.matches(":focus"))??!1}handleInput(t){this.dirty=!0,this.value=t.target.value}redispatchEvent(t){A(this,t)}getInputOrTextarea(){return this.inputOrTextarea||(this.connectedCallback(),this.scheduleUpdate()),this.isUpdatePending&&this.scheduleUpdate(),this.inputOrTextarea}getInput(){return this.type==="textarea"?null:this.getInputOrTextarea()}handleIconChange(){this.hasLeadingIcon=this.leadingIcons.length>0,this.hasTrailingIcon=this.trailingIcons.length>0}[O](){return this.value}formResetCallback(){this.reset()}formStateRestoreCallback(t){this.value=t}focus(){this.getInputOrTextarea().focus()}[w](){return new z(()=>({state:this,renderedControl:this.inputOrTextarea}))}[E](){return this.inputOrTextarea}[L](t){var n;t==null||t.preventDefault();const e=this.getErrorText();this.nativeError=!!t,this.nativeErrorText=this.validationMessage,e===this.getErrorText()&&((n=this.field)==null||n.reannounceError())}}i.shadowRootOptions={...v.shadowRootOptions,delegatesFocus:!0};r([s({type:Boolean,reflect:!0})],i.prototype,"error",void 0);r([s({attribute:"error-text"})],i.prototype,"errorText",void 0);r([s()],i.prototype,"label",void 0);r([s({type:Boolean,attribute:"no-asterisk"})],i.prototype,"noAsterisk",void 0);r([s({type:Boolean,reflect:!0})],i.prototype,"required",void 0);r([s()],i.prototype,"value",void 0);r([s({attribute:"prefix-text"})],i.prototype,"prefixText",void 0);r([s({attribute:"suffix-text"})],i.prototype,"suffixText",void 0);r([s({type:Boolean,attribute:"has-leading-icon"})],i.prototype,"hasLeadingIcon",void 0);r([s({type:Boolean,attribute:"has-trailing-icon"})],i.prototype,"hasTrailingIcon",void 0);r([s({attribute:"supporting-text"})],i.prototype,"supportingText",void 0);r([s({attribute:"text-direction"})],i.prototype,"textDirection",void 0);r([s({type:Number})],i.prototype,"rows",void 0);r([s({type:Number})],i.prototype,"cols",void 0);r([s({reflect:!0})],i.prototype,"inputMode",void 0);r([s()],i.prototype,"max",void 0);r([s({type:Number})],i.prototype,"maxLength",void 0);r([s()],i.prototype,"min",void 0);r([s({type:Number})],i.prototype,"minLength",void 0);r([s({type:Boolean,attribute:"no-spinner"})],i.prototype,"noSpinner",void 0);r([s()],i.prototype,"pattern",void 0);r([s({reflect:!0,converter:F})],i.prototype,"placeholder",void 0);r([s({type:Boolean,reflect:!0})],i.prototype,"readOnly",void 0);r([s({type:Boolean,reflect:!0})],i.prototype,"multiple",void 0);r([s()],i.prototype,"step",void 0);r([s({reflect:!0})],i.prototype,"type",void 0);r([s({reflect:!0})],i.prototype,"autocomplete",void 0);r([d()],i.prototype,"dirty",void 0);r([d()],i.prototype,"focused",void 0);r([d()],i.prototype,"nativeError",void 0);r([d()],i.prototype,"nativeErrorText",void 0);r([m(".input")],i.prototype,"inputOrTextarea",void 0);r([m(".field")],i.prototype,"field",void 0);r([y({slot:"leading-icon"})],i.prototype,"leadingIcons",void 0);r([y({slot:"trailing-icon"})],i.prototype,"trailingIcons",void 0);const R=D`:host{display:inline-flex;outline:0;resize:both;text-align:start;-webkit-tap-highlight-color:transparent}.field,.text-field{width:100%}.text-field{display:inline-flex}.field{cursor:text}.disabled .field{cursor:default}.text-field,.textarea .field{resize:inherit}slot[name=container]{border-radius:inherit}.icon{color:currentColor;display:flex;align-items:center;justify-content:center;fill:currentColor;position:relative}.icon ::slotted(*){display:flex;position:absolute}[has-start] .icon.leading{font-size:var(--_leading-icon-size);height:var(--_leading-icon-size);width:var(--_leading-icon-size)}[has-end] .icon.trailing{font-size:var(--_trailing-icon-size);height:var(--_trailing-icon-size);width:var(--_trailing-icon-size)}.input-wrapper{display:flex}.input-wrapper>*{all:inherit;padding:0}.input{caret-color:var(--_caret-color);overflow-x:hidden;text-align:inherit}.input::placeholder{color:currentColor;opacity:1}.input::-webkit-calendar-picker-indicator{display:none}.input::-webkit-search-cancel-button,.input::-webkit-search-decoration{display:none}@media(forced-colors:active){.input{background:0 0}}.no-spinner .input::-webkit-inner-spin-button,.no-spinner .input::-webkit-outer-spin-button{display:none}.no-spinner .input[type=number]{-moz-appearance:textfield}:focus-within .input{caret-color:var(--_focus-caret-color)}.error:focus-within .input{caret-color:var(--_error-focus-caret-color)}.text-field:not(.disabled) .prefix{color:var(--_input-text-prefix-color)}.text-field:not(.disabled) .suffix{color:var(--_input-text-suffix-color)}.text-field:not(.disabled) .input::placeholder{color:var(--_input-text-placeholder-color)}.prefix,.suffix{text-wrap:nowrap;width:min-content}.prefix{padding-inline-end:var(--_input-text-prefix-trailing-space)}.suffix{padding-inline-start:var(--_input-text-suffix-leading-space)}`;export{i as T,R as s};
